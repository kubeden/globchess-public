<head>
    <%- include ('components/head.ejs') %>
</head>
<body class="bg-neutral-900">

    <nav class="bg-neutral-900 w-full py-4 text-neutral-100 px-4 grid grid-cols-3 border-b-2 border-neutral-800">
        <div class="h-full flex justify-start items-center">
            <button class="fa-solid fa-bars text-neutral-200 text-xl font-black px-4" type="button" data-drawer-target="drawer-example" data-drawer-show="drawer-example" aria-controls="drawer-example"></button>
        </div>

        <div class="w-full text-center flex items-center justify-center">
            <a href="/game" class="flex justify-center items-center">
                <h2 class="font-bold tracking-wide text-2xl text-neutral-100">GLOB</h2>
                <img class="mx-2" src="assets/img/logo.png" width="40" alt="">
                <h2 class="font-bold tracking-wide text-2xl text-neutral-100">CHESS</h2>
            </a>
        </div>

        <div class="w-full text-end px-4 justify-end items-right flex">
            <button data-modal-target="rulesModal" data-modal-toggle="rulesModal" class="px-4 text-2xl font-bold self-center" type="button">
                <span class="fa fa-question"></span>
            </button>
            <a href="https://x.com/kubeden" target="_blank" class="bg-neutral-900 border-2 border-neutral-800 rounded-xl px-6 py-2 text-neutral-300">Follow on X</a>
            <a class="ps-4 self-center" id="userImage"></a>
            <span id="userName" class="hidden"></span>
        </div>
    </nav>

    <main class="grid grid-cols-1 w-full text-center justify-center items-center bg-neutral-900 py-4 px-4" style="max-height: calc(100vh - 76px); height: calc(100vh - 150px);">

        <!-- payment successful -->
        <div class="flex flex-col justify-center items-center space-y-4 h-full">
            <div class="w-20 h-20 bg-green-500 rounded-full flex justify-center items-center">
                <span class="fa-solid fa-check text-4xl text-white"></span>
            </div>
            <h2 class="text-3xl font-bold text-neutral-300">ðŸŽ‰ Payment successful! ðŸŽ‰</h2>
            <p class="text-neutral-300">Redirecting you to the board . . .</p>
            <a href="/game" class="bg-neutral-800 border-2 border-neutral-800 rounded-xl px-6 py-2 text-neutral-300">Click here if you are not redirected</a>
        </div>

    </main>

    <div id="rulesModal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%)] max-h-full border-4 border-neutral-800 bg-neutral-900 rounded-xl">
        <div class="relative p-4 w-full max-w-2xl max-h-full">
            <!-- Modal content -->
            <div class="relative bg-white rounded-lg shadow dark:bg-neutral-900 border-2 border-neutral-800">
                <!-- Modal header -->
                <div class="flex items-center justify-between p-4 md:p-5 border-b border-neutral-800 rounded-t">
                    <h3 class="text-xl font-bold text-gray-300">
                        Rules & Info
                    </h3>
                    <button type="button" class="text-gray-400 bg-transparent hover:bg-neutral-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-neutral-600 dark:hover:text-neutral-100" data-modal-hide="rulesModal">
                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                        </svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                </div>
                <!-- Modal body -->
                <div class="p-4 md:p-5 space-y-4">
                    <div class="text-gray-300 px-4 py-4">
                        <h2 class="text-2xl font-black">Globchess</h2>
                        <p class="text-sm">World's largest chess game</p>
                        <div class="w-full h-1 bg-neutral-800 my-2"></div>
                        <h3 class="text-xl font-bold">How to play</h3>
                        <p>Make a move by dragging and dropping the pieces. You can also use the buttons to make a move or reset a move.</p>
                        <div class="w-full h-1 bg-neutral-800 my-1"></div>
                        <h3 class="text-xl font-bold">Rules</h3>
                        <p>Standard chess rules apply. The game is played in a turn-based manner. You can only make a move when it's your turn.</p>
                        <div class="w-full h-1 bg-neutral-800 my-1"></div>
                        <h3 class="text-xl font-bold">Winning</h3>
                        <p>There are no winners or losers in this game. It's a collaborative game where everyone in the world contributes to the game.</p>
                        <div class="w-full h-1 bg-neutral-800 my-1"></div>
                        <h3 class="text-xl font-bold">Payment</h3>
                        <p>There is a small fee to make a move. This is to prevent spam and to keep the game fair for everyone.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="drawer-example" class="fixed top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-white w-80 dark:bg-neutral-900" tabindex="-1" aria-labelledby="drawer-label">
        <h5 id="drawer-label" class="inline-flex items-center mb-4 text-base font-semibold text-gray-500 dark:text-gray-400"><svg class="w-4 h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
         <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
       </svg>Info</h5>
        <button type="button" data-drawer-hide="drawer-example" aria-controls="drawer-example" class="text-gray-400 bg-transparent hover:bg-neutral-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 absolute top-2.5 end-2.5 flex items-center justify-center dark:hover:bg-neutral-600 dark:hover:text-white" >
           <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
           </svg>
           <span class="sr-only">Close menu</span>
        </button>
           
        <h2 class="text-xl font-black text-neutral-300 pb-2">About the creator</h2>
        <p class="text-sm text-gray-500 dark:text-gray-400">ðŸ‘‹ Hey there. My name is Dennis and I go by Kubeden online. If you like what I built here and you feel like chatting, feel free to do so on my <a class="text-blue-500" href="https://x.com/kubeden">x.com/kubeden</a> profile!</p>

        <div class="w-full h-0.5 bg-neutral-800 my-4"></div>

        <h2 class="text-xl font-black text-neutral-300 pb-2">About the app</h2>
        <p class="text-sm text-gray-500 dark:text-gray-400">ðŸŒŽ The chess game you see on your screen is available to any one in the world! Inspired by Wordle, I aimed to create a similar experience but with chess.</p>

        <div class="w-full h-0.5 bg-neutral-800 my-4"></div>
     </div>



    <!-- <script src="https://js.stripe.com/v3/"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="assets/js/obfuscated/payment.js" type="module" defer></script>


    <script type="module">
        function _0x3129(){var _0x276f04=['1294167TSTBbo','#userImage','449418WIfoct','querySelector','354754hsnFNc','log','user\x20is\x20signed\x20in','user\x20is\x20not\x20signed\x20in','\x22\x20alt=\x22user\x20image\x22\x20class=\x22w-10\x20h-10\x20rounded-full\x20border-2\x20border-neutral-800\x22>','476QaPYpC','href','innerHTML','location','9897mljeLe','#userName','1127150avmXgL','2166948UvqgpX','2222688LkECIr'];_0x3129=function(){return _0x276f04;};return _0x3129();}function _0x1b0f(_0x34aa5c,_0x4928ac){var _0x31298c=_0x3129();return _0x1b0f=function(_0x1b0f48,_0x25e28a){_0x1b0f48=_0x1b0f48-0x166;var _0x2851ff=_0x31298c[_0x1b0f48];return _0x2851ff;},_0x1b0f(_0x34aa5c,_0x4928ac);}(function(_0x465a36,_0x4f7d96){var _0x7e7d52=_0x1b0f,_0x3a93c8=_0x465a36();while(!![]){try{var _0x408cf7=parseInt(_0x7e7d52(0x172))/0x1+parseInt(_0x7e7d52(0x170))/0x2+parseInt(_0x7e7d52(0x169))/0x3*(-parseInt(_0x7e7d52(0x177))/0x4)+-parseInt(_0x7e7d52(0x16b))/0x5+parseInt(_0x7e7d52(0x16c))/0x6+parseInt(_0x7e7d52(0x16e))/0x7+-parseInt(_0x7e7d52(0x16d))/0x8;if(_0x408cf7===_0x4f7d96)break;else _0x3a93c8['push'](_0x3a93c8['shift']());}catch(_0x295d37){_0x3a93c8['push'](_0x3a93c8['shift']());}}}(_0x3129,0x38117));import{auth}from'/assets/js/firebaseInit.js';auth['onAuthStateChanged'](function(_0x2f1e55){var _0x112c01=_0x1b0f;_0x2f1e55?(console['log'](_0x112c01(0x174)),document[_0x112c01(0x171)](_0x112c01(0x16a))['textContent']='@'+_0x2f1e55['displayName'],document[_0x112c01(0x171)](_0x112c01(0x16f))[_0x112c01(0x167)]='<img\x20src=\x22'+_0x2f1e55['photoURL']+_0x112c01(0x176)):(console[_0x112c01(0x173)](_0x112c01(0x175)),window[_0x112c01(0x168)][_0x112c01(0x166)]='/');});
    </script>

    <script type="module">
        const _0x297e8e=_0x5788;(function(_0x58c2e5,_0x1f452f){const _0x3a6bf8=_0x5788,_0xc624aa=_0x58c2e5();while(!![]){try{const _0x56bf7e=parseInt(_0x3a6bf8(0x1a7))/0x1*(-parseInt(_0x3a6bf8(0x1b6))/0x2)+parseInt(_0x3a6bf8(0x1b3))/0x3+-parseInt(_0x3a6bf8(0x1a9))/0x4+-parseInt(_0x3a6bf8(0x1ab))/0x5+-parseInt(_0x3a6bf8(0x1a4))/0x6*(-parseInt(_0x3a6bf8(0x1b0))/0x7)+-parseInt(_0x3a6bf8(0x1af))/0x8+parseInt(_0x3a6bf8(0x1b4))/0x9;if(_0x56bf7e===_0x1f452f)break;else _0xc624aa['push'](_0xc624aa['shift']());}catch(_0x56cd0f){_0xc624aa['push'](_0xc624aa['shift']());}}}(_0x2849,0x951ed));const sessionId=sessionStorage[_0x297e8e(0x1a3)](_0x297e8e(0x1a2)),userId=sessionStorage[_0x297e8e(0x1a3)](_0x297e8e(0x1b2));(!sessionId||!userId)&&(window['location']['href']='/cancel');function _0x5788(_0x343c35,_0x4bfa5d){const _0x284978=_0x2849();return _0x5788=function(_0x578807,_0x510ad1){_0x578807=_0x578807-0x1a2;let _0x72beb8=_0x284978[_0x578807];return _0x72beb8;},_0x5788(_0x343c35,_0x4bfa5d);}fetch('/payment-status/'+userId+'/'+sessionId)[_0x297e8e(0x1ae)](_0x3a5ee3=>_0x3a5ee3[_0x297e8e(0x1b1)]())[_0x297e8e(0x1ae)](_0xfc0efc=>{const _0x26e341=_0x297e8e;console['log'](_0xfc0efc),_0xfc0efc['status']===_0x26e341(0x1a5)&&setTimeout(()=>{const _0x11c354=_0x26e341;window[_0x11c354(0x1ad)]['href']='/game';},0x1388);})[_0x297e8e(0x1ac)](_0x39a510=>{const _0x52a053=_0x297e8e;console[_0x52a053(0x1a6)](_0x52a053(0x1aa),_0x39a510),setTimeout(()=>{const _0x39c5b6=_0x52a053;window['location'][_0x39c5b6(0x1a8)]=_0x39c5b6(0x1b5);},0x1388);});function _0x2849(){const _0x49f5e7=['getItem','5814ADRaRD','succeeded','error','5573TJlYge','href','2131012BCsMis','Error:','1263630MhyrZd','catch','location','then','6315384thUaLE','4809hKrqdQ','json','userId','2517582edBQDz','15707205NIZJpU','/cancel','382cEWDtk','sessionId'];_0x2849=function(){return _0x49f5e7;};return _0x2849();}

    </script>

    
</body>
</html>
